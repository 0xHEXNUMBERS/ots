language: cpp

dist: trusty
sudo: false

matrix:
  include:
    - os: linux
      compiler: gcc
    - os: linux
      compiler: clang
    - os: osx
      compiler: clang

git:
  submodules: false

sudo: false

addons:
  apt:
    packages:
      - fonts-inconsolata
      - fonts-takao-gothic
      - fonts-takao-mincho
      - fonts-takao-pgothic

before_install:
  - eval "${MATRIX_EVAL}"

install:
  - ./autogen.sh

script:
  - ./configure --enable-debug
  - make
  - make -j check || (cat test-suite.log && false)
  - make dist
